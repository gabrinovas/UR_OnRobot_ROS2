# Configuración de física específica para simulación UR+OnRobot
# Optimizada para precisión y rendimiento

gazebo_physics:
  ros__parameters:
    # Configuración general
    engine: "ode"  # o "bullet", "simbody", "dart"
    max_step_size: 0.002
    real_time_factor: 1.0
    real_time_update_rate: 500
    max_contacts: 20
    
    # Gravedad (ajustable según necesidades)
    gravity: [0.0, 0.0, -9.81]
    
    # Configuración ODE específica
    ode_config:
      solver:
        type: "quick"  # "world", "quick"
        min_step_size: 0.0001
        iters: 50
        sor: 1.3
        use_dynamic_moi_rescaling: true
        friction_model: "pyramid_model"  # "box_model", "cone_model"
        
      constraints:
        cfm: 0.0
        erp: 0.2
        contact_max_correcting_vel: 100.0
        contact_surface_layer: 0.001
        
    # Configuración de contacto
    contact_params:
      default_contact:
        stiffness: 10000000.0
        damping: 1000.0
        friction:
          mu: 1.0
          mu2: 1.0
          slip1: 0.01
          slip2: 0.01
          
      robot_contact:
        stiffness: 10000000.0
        damping: 1000.0
        friction:
          mu: 0.8
          mu2: 0.8
          slip1: 0.005
          slip2: 0.005
          
      gripper_contact:
        stiffness: 10000000.0
        damping: 1000.0
        friction:
          mu: 1.2  # Mayor fricción para agarre
          mu2: 1.2
          slip1: 0.001
          slip2: 0.001

# Configuración específica por modelo
model_physics:
  ros__parameters:
    ur_robot:
      mass: 20.0  # kg (aproximado para UR5e)
      center_of_mass: [0.0, 0.0, 0.0]
      
    onrobot_gripper:
      mass: 1.5  # kg (para 2FG7)
      center_of_mass: [0.0, 0.0, 0.05]
      
    environment_objects:
      default_mass: 0.1
      default_friction: 0.7